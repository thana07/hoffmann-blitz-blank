<div class="group bg-white rounded-2xl shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden border border-gray-100"
     [class.ring-2]="isOpen()"
     [class.ring-brand-500]="isOpen()"
     [class.ring-opacity-50]="isOpen()">
  <button (click)="toggle()"
          class="w-full text-left p-6 flex justify-between items-center gap-4 focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2"
          [attr.aria-expanded]="isOpen()"
          [attr.aria-controls]="'faq-answer-' + id"
          [id]="'faq-question-' + id">
    <span class="font-semibold text-lg text-gray-900 group-hover:text-brand-600 transition-colors pr-4">{{ question() }}</span>
    <span class="flex-shrink-0 flex items-center justify-center w-10 h-10 rounded-full transition-all duration-300"
          [class.bg-brand-500]="isOpen()"
          [class.bg-gray-100]="!isOpen()"
          [class.rotate-45]="isOpen()">
      <svg class="w-5 h-5 transition-colors duration-300"
           [class.text-white]="isOpen()"
           [class.text-brand-600]="!isOpen()"
           fill="none"
           stroke="currentColor"
           viewBox="0 0 24 24"
           aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
      </svg>
    </span>
  </button>

  @if (isOpen()) {
    <div [id]="'faq-answer-' + id"
         role="region"
         [attr.aria-labelledby]="'faq-question-' + id"
         class="px-6 pb-6 animate-fade-in">
      <div class="pt-2 border-t border-gray-100">
        <p class="text-gray-600 leading-relaxed mt-4">{{ answer() }}</p>
      </div>
    </div>
  }
</div>
